[{"/Users/denishazheev/Documents/project/mesto-react/src/index.js":"1","/Users/denishazheev/Documents/project/mesto-react/src/reportWebVitals.js":"2","/Users/denishazheev/Documents/project/mesto-react/src/components/App.js":"3","/Users/denishazheev/Documents/project/mesto-react/src/components/Header.js":"4","/Users/denishazheev/Documents/project/mesto-react/src/components/Footer.js":"5","/Users/denishazheev/Documents/project/mesto-react/src/components/Main.js":"6","/Users/denishazheev/Documents/project/mesto-react/src/components/PopupWithForm.js":"7","/Users/denishazheev/Documents/project/mesto-react/src/components/ImagePopup.js":"8","/Users/denishazheev/Documents/project/mesto-react/src/utils/Api.js":"9","/Users/denishazheev/Documents/project/mesto-react/src/components/Card.js":"10","/Users/denishazheev/Documents/project/mesto-react/src/contexts/CurrentUserContext.js":"11","/Users/denishazheev/Documents/project/mesto-react/src/components/EditProfilePopup.js":"12","/Users/denishazheev/Documents/project/mesto-react/src/components/EditAvatarPopup.js":"13","/Users/denishazheev/Documents/project/mesto-react/src/components/AddPlacePopup.js":"14","/Users/denishazheev/Documents/project/react-mesto-auth/src/index.js":"15","/Users/denishazheev/Documents/project/react-mesto-auth/src/reportWebVitals.js":"16","/Users/denishazheev/Documents/project/react-mesto-auth/src/components/App.js":"17","/Users/denishazheev/Documents/project/react-mesto-auth/src/components/Header.js":"18","/Users/denishazheev/Documents/project/react-mesto-auth/src/components/EditAvatarPopup.js":"19","/Users/denishazheev/Documents/project/react-mesto-auth/src/components/ImagePopup.js":"20","/Users/denishazheev/Documents/project/react-mesto-auth/src/components/EditProfilePopup.js":"21","/Users/denishazheev/Documents/project/react-mesto-auth/src/components/Register.js":"22","/Users/denishazheev/Documents/project/react-mesto-auth/src/components/ProtectedRoute.js":"23","/Users/denishazheev/Documents/project/react-mesto-auth/src/components/Main.js":"24","/Users/denishazheev/Documents/project/react-mesto-auth/src/components/Login.js":"25","/Users/denishazheev/Documents/project/react-mesto-auth/src/components/AddPlacePopup.js":"26","/Users/denishazheev/Documents/project/react-mesto-auth/src/components/PopupWithForm.js":"27","/Users/denishazheev/Documents/project/react-mesto-auth/src/components/Footer.js":"28","/Users/denishazheev/Documents/project/react-mesto-auth/src/utils/Api.js":"29","/Users/denishazheev/Documents/project/react-mesto-auth/src/utils/Auth.js":"30","/Users/denishazheev/Documents/project/react-mesto-auth/src/contexts/CurrentUserContext.js":"31","/Users/denishazheev/Documents/project/react-mesto-auth/src/components/Card.js":"32","/Users/denishazheev/Documents/project/react-mesto-auth/src/components/InfoTooltip.js":"33"},{"size":335,"mtime":1677687714785,"results":"34","hashOfConfig":"35"},{"size":362,"mtime":1677672289580,"results":"36","hashOfConfig":"35"},{"size":4808,"mtime":1680458730399,"results":"37","hashOfConfig":"35"},{"size":180,"mtime":1677690464000,"results":"38","hashOfConfig":"35"},{"size":190,"mtime":1677690547018,"results":"39","hashOfConfig":"35"},{"size":1924,"mtime":1680446286527,"results":"40","hashOfConfig":"35"},{"size":635,"mtime":1680286550187,"results":"41","hashOfConfig":"35"},{"size":546,"mtime":1680118582041,"results":"42","hashOfConfig":"35"},{"size":3617,"mtime":1680035677152,"results":"43","hashOfConfig":"35"},{"size":1462,"mtime":1680106888751,"results":"44","hashOfConfig":"35"},{"size":108,"mtime":1679945044945,"results":"45","hashOfConfig":"35"},{"size":1657,"mtime":1680459380170,"results":"46","hashOfConfig":"35"},{"size":800,"mtime":1680445614363,"results":"47","hashOfConfig":"35"},{"size":1269,"mtime":1680459058406,"results":"48","hashOfConfig":"35"},{"size":428,"mtime":1681061479354,"results":"49","hashOfConfig":"50"},{"size":362,"mtime":1677672289580,"results":"51","hashOfConfig":"50"},{"size":6075,"mtime":1681120614202,"results":"52","hashOfConfig":"50"},{"size":936,"mtime":1681072799404,"results":"53","hashOfConfig":"50"},{"size":800,"mtime":1680445614363,"results":"54","hashOfConfig":"50"},{"size":546,"mtime":1680118582041,"results":"55","hashOfConfig":"50"},{"size":1657,"mtime":1680459380170,"results":"56","hashOfConfig":"50"},{"size":1957,"mtime":1681120603814,"results":"57","hashOfConfig":"50"},{"size":279,"mtime":1681065417039,"results":"58","hashOfConfig":"50"},{"size":1924,"mtime":1680446286527,"results":"59","hashOfConfig":"50"},{"size":1776,"mtime":1681115869420,"results":"60","hashOfConfig":"50"},{"size":1269,"mtime":1680459058406,"results":"61","hashOfConfig":"50"},{"size":619,"mtime":1681071719221,"results":"62","hashOfConfig":"50"},{"size":190,"mtime":1677690547018,"results":"63","hashOfConfig":"50"},{"size":3617,"mtime":1680035677152,"results":"64","hashOfConfig":"50"},{"size":1560,"mtime":1681116498789,"results":"65","hashOfConfig":"50"},{"size":108,"mtime":1679945044945,"results":"66","hashOfConfig":"50"},{"size":1462,"mtime":1680106888751,"results":"67","hashOfConfig":"50"},{"size":669,"mtime":1681115417736,"results":"68","hashOfConfig":"50"},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},"1kac8hd",{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"76","messages":"77","suppressedMessages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"91","messages":"92","suppressedMessages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","suppressedMessages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"109","messages":"110","suppressedMessages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","suppressedMessages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1c18a39",{"filePath":"115","messages":"116","suppressedMessages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","suppressedMessages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121"},{"filePath":"122","messages":"123","suppressedMessages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","suppressedMessages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"128","messages":"129","suppressedMessages":"130","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","suppressedMessages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","suppressedMessages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"137","messages":"138","suppressedMessages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","suppressedMessages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"143","messages":"144","suppressedMessages":"145","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"146","messages":"147","suppressedMessages":"148","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"149","messages":"150","suppressedMessages":"151","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","suppressedMessages":"154","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"155","messages":"156","suppressedMessages":"157","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","suppressedMessages":"160","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"161","messages":"162","suppressedMessages":"163","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"164","messages":"165","suppressedMessages":"166","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"167","messages":"168","suppressedMessages":"169","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/denishazheev/Documents/project/mesto-react/src/index.js",[],[],[],"/Users/denishazheev/Documents/project/mesto-react/src/reportWebVitals.js",[],[],"/Users/denishazheev/Documents/project/mesto-react/src/components/App.js",[],[],"/Users/denishazheev/Documents/project/mesto-react/src/components/Header.js",[],[],"/Users/denishazheev/Documents/project/mesto-react/src/components/Footer.js",[],[],"/Users/denishazheev/Documents/project/mesto-react/src/components/Main.js",[],[],"/Users/denishazheev/Documents/project/mesto-react/src/components/PopupWithForm.js",[],[],"/Users/denishazheev/Documents/project/mesto-react/src/components/ImagePopup.js",[],[],"/Users/denishazheev/Documents/project/mesto-react/src/utils/Api.js",[],[],"/Users/denishazheev/Documents/project/mesto-react/src/components/Card.js",[],[],"/Users/denishazheev/Documents/project/mesto-react/src/contexts/CurrentUserContext.js",[],[],"/Users/denishazheev/Documents/project/mesto-react/src/components/EditProfilePopup.js",[],[],"/Users/denishazheev/Documents/project/mesto-react/src/components/EditAvatarPopup.js",[],[],"/Users/denishazheev/Documents/project/mesto-react/src/components/AddPlacePopup.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/index.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/reportWebVitals.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/components/App.js",["170"],[],"import {useState, useEffect} from 'react';\nimport Main from \"./Main.js\";\nimport Header from \"./Header.js\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ImagePopup from \"./ImagePopup.js\";\nimport api from \"../utils/Api\";\nimport {CurrentUserContext, user} from \"../contexts/CurrentUserContext\"\nimport React from 'react';\nimport { Route, Routes, useNavigate} from 'react-router-dom';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport ProtectedRouteElement from './ProtectedRoute.js';\nimport * as auth from '../utils/Auth';\n\nfunction App() {\n  //  Создание хуков\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen ] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen ] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState(user);\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState();\n  const [userData, setUserData] = useState('');\n  const navigate = useNavigate(false);\n\n  \n  useEffect(() => {\n    handleTokenCheck();\n  }, [])\n\n  const handleTokenCheck = () => {\n    if (localStorage.getItem('jwt')){\n      const jwt = localStorage.getItem('jwt');\n      auth.checkToken(jwt)\n        .then((res) => {\n          if (res){\n            setLoggedIn(true);\n            navigate(\"/\", {replace: true})\n            setUserData(res.data.email);\n          }\n        })\n        .catch((err) => { \n          console.log(err); \n        }) \n      }\n  }\n\n  useEffect(() => {\n    api.getProfile()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => { \n        console.log(err); \n      }) \n  }, [])\n\n  useEffect(() => {\n    api.getCards()\n        .then((data) => {\n            setCards(\n                data.map((item) => ({\n                    _id: item._id,\n                    link: item.link,\n                    name: item.name,\n                    likes: item.likes,\n                    owner: item.owner\n                }))\n            )\n        })\n        .catch((err) => {\n            console.log(err); \n        }); \n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    if(!isLiked){\n      api.putLike(card._id)\n        .then((res) => {\n          setCards((state) => state.map((i) => i._id === card._id ? res : i))\n        })\n        .catch((err) => {\n          console.log(err); \n      }); \n    }\n    else{\n      api.deletLike(card._id)\n        .then((res) => {\n          setCards((state) => state.map((i) => i._id === card._id ? res : i))\n        })\n        .catch((err) => {\n          console.log(err); \n      }); \n    }\n  } \n\n  function handleCardDelete(card){  \n    api.deletCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((i) => i._id !== card._id ));        \n      })\n      .catch((err) => {\n        console.log(err); \n    }); \n  }\n\n  function handleUpdateUser(info){\n    api.changeProfile(info)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err); \n    }); \n  }\n  function handleUpdateAvatar(info){\n    api.changeAvatar(info)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err); \n    }); \n  }\n  function handleAddPlaceSubmit(newCard){\n    api.addNewPost(newCard)\n      .then((res) => {\n        setCards([res, ...cards]); \n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err); \n    }); \n  }\n  // Открытие попапов\n  function handleEditAvatarClick(){\n    setEditAvatarPopupOpen(true)\n  }\n  function handleEditProfileClick(){\n    setEditProfilePopupOpen(true)\n  }\n  function handleAddPlaceClick(){\n    setAddPlacePopupOpen(true)\n  }\n  function handleCardClick(item){\n    setSelectedCard(item)\n  }\n  \n  //   Закрытие попапов\n  function closeAllPopups(){\n    setEditAvatarPopupOpen(false)\n    setEditProfilePopupOpen(false)\n    setAddPlacePopupOpen(false)\n    setSelectedCard(null)\n  }\n  const handleLogin = () => {\n    setLoggedIn(true);\n  }\n  return (\n    < CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header email={userData}/>\n      <Routes>\n        <Route path='/sign-in' element={<Login handleLogin={handleLogin}/>}/>\n        <Route path='/sign-up' element={<Register/>}/>\n        <Route path=\"/\"\n          element={\n            <ProtectedRouteElement\n                element={Main}\n                onEditProfile={handleEditProfileClick} \n                onAddPlace={handleAddPlaceClick} \n                onEditAvatar={handleEditAvatarClick}\n                onCardClick={handleCardClick}\n                cards={cards}\n                onCardLike={handleCardLike}\n                onCardDelete={handleCardDelete}\n                loggedIn={loggedIn}\n            />\n          }\n        />\n      </Routes>\n        <Footer /> \n        <EditProfilePopup \n          isOpen={isEditProfilePopupOpen} \n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          addNewCard={handleAddPlaceSubmit}\n        />\n        <ImagePopup \n          card={selectedCard} \n          onClose={closeAllPopups}\n          />\n        <PopupWithForm name=\"Delet\" title=\"Вы уверены?\" button=\"Да\" onClose={closeAllPopups}/>\n        <EditAvatarPopup \n          isOpen={isEditAvatarPopupOpen} \n          onClose={closeAllPopups} \n          onUpdateAvatar={handleUpdateAvatar}\n        /> \n        <template id=\"templateCard\">\n          \n        </template>\n      </div>\n    </CurrentUserContext.Provider>\n    \n  );\n}\n\nexport default App;\n","/Users/denishazheev/Documents/project/react-mesto-auth/src/components/Header.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/components/EditAvatarPopup.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/components/ImagePopup.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/components/EditProfilePopup.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/components/Register.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/components/ProtectedRoute.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/components/Main.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/components/Login.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/components/AddPlacePopup.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/components/PopupWithForm.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/components/Footer.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/utils/Api.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/utils/Auth.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/contexts/CurrentUserContext.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/components/Card.js",[],[],"/Users/denishazheev/Documents/project/react-mesto-auth/src/components/InfoTooltip.js",[],[],{"ruleId":"171","severity":1,"message":"172","line":34,"column":6,"nodeType":"173","endLine":34,"endColumn":8,"suggestions":"174"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'handleTokenCheck'. Either include it or remove the dependency array.","ArrayExpression",["175"],{"desc":"176","fix":"177"},"Update the dependencies array to be: [handleTokenCheck]",{"range":"178","text":"179"},[1347,1349],"[handleTokenCheck]"]